(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y;$.Define($$,{Intranet:{Client:{AnonymousUser:function(){var Z,_4,_7,_8,_9,_,ba;Z=function(_0){var _1;_1=a.Delay(function(){return a.Bind(c.Async("Intranet:1",[_0]),function(){return a.Return(d.location.reload());});});return a.Start(_1,{$:0});};_7=g.Yield("");_8=g.Yield("");_4=f.op_LessMultiplyGreater(f.op_LessMultiplyGreater(g.Return(function(_5){return function(_6){return{User:_5,Password:_6};};}),h.IsNotEmpty("Must enter a username",_7)),h.IsNotEmpty("Must enter a password",_8));_9=g.WithSubmit(_4);_=g.Run(Z,_9);ba=function(bb){return function(bc){return function(bd){var be;be=i.ofArray([l.InputWithError("Username",bb,bd.get_View()),l.InputPasswordWithError("Password",bc,bd.get_View()),(((k.Button())("Log in"))(i.ofArray([o.Create("class","btn btn-primary")])))(function(){return bd.Trigger();}),k.ShowErrors(i.ofArray([o.Create("style","margin-top:1em")]),bd.get_View())]);return p.Element("form",[],be);};};};return g.Render(ba,_);},LoggedInUser:function(bf){var bg,bh;bh=i.ofArray([p.TextNode("Click here to log out:")]);bg=i.ofArray([p.Element("p",[],bh),p.Element("button",i.ofArray([q.Handler("click",function(){return function(){var bk;bk=a.Delay(function(){return a.Bind(c.Async("Intranet:2",[bf]),function(){return a.Return(d.location.reload());});});return a.Start(bk,{$:0});};})]),i.ofArray([p.TextNode("Logout")]))]);return p.Element("div",[],bg);},Main:function(){var bn,bo,bp,bs,bt,bu,bv,bx,by;bn=r.Create("");bo=s.CreateOption(bn.get_View());bp=function(bq){return bq.$==1?c.Async("Intranet:0",[bq.$0]):a.Delay(function(){return a.Return("");});};bs=bo.get_View();bt=t.MapAsync(bp,bs);bv=function(){return bo.Trigger();};bx=$.New(u,{$:0});by=i.ofArray([p.TextView(bt)]);bu=i.ofArray([p.Input($.New(u,{$:0}),bn),p.Button("Send",$.New(u,{$:0}),bv),p.Element("hr",[],bx),p.Element("h4",i.ofArray([o.Create("class","text-muted")]),i.ofArray([p.TextNode("The server responded:")])),p.Element("div",i.ofArray([o.Create("class","jumbotron")]),i.ofArray([p.Element("h1",[],by)]))]);return p.Element("div",[],bu);}}},WebSharper:{Forms:{Attr:{SubmitterValidate:function(bz){var bA,bD,bE,bG,bH,bI;bA=q.Handler("click",function(){return function(){return bz.Trigger();};});bD=v.Const("disabled");bE=function(bF){return w.IsFailure(bF);};bG=bz.get_Input();bH=t.Map(bE,bG);bI=q.DynamicPred("disabled",bH,bD);return o.Append(bA,bI);}},Bootstrap:{Controls:{Button:$.Field(function(){return function(bJ){return function(bK){return function(bL){return p.Button(bJ,bK,bL);};};};}),Checkbox:function(bM,bN,bO,bP,bQ){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("checkbox"),$1:bN}),i.ofArray([p.Element("label",bP,i.ofArray([p.CheckBox(bQ,bO),p.TextNode(bM)]))]));},Class:$.Field(function(){return function(bR){return q.Class(bR);};}),Input:function(bS,bT,bU,bV,bW){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("form-group"),$1:bT}),i.ofArray([p.Element("label",bV,i.ofArray([p.TextNode(bS)])),p.Input($.New(u,{$:1,$0:(k.cls())("form-control"),$1:bW}),bU)]));},InputPassword:function(bX,bY,bZ,b0,b1){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("form-group"),$1:bY}),i.ofArray([p.Element("label",b0,i.ofArray([p.TextNode(bX)])),p.PasswordBox($.New(u,{$:1,$0:(k.cls())("form-control"),$1:b1}),bZ)]));},InputPasswordWithError:function(b2){var b3;b3=function(b4){return function(b5){return p.PasswordBox(b4,b5);};};return function(b6){return function(b7){var b8,b9,b_;b8=b7[0];b9=b7[1];b_=b7[2];return function(b$){return k.__InputWithError(b3,b2,b6,b8,b9,b_,b$);};};};},InputWithError:function(ca){var cb;cb=function(cc){return function(cd){return p.Input(cc,cd);};};return function(ce){return function(cf){var cg,ch,ci;cg=cf[0];ch=cf[1];ci=cf[2];return function(cj){return k.__InputWithError(cb,ca,ce,cg,ch,ci,cj);};};};},Radio:function(ck,cl,cm,cn,co){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("radio"),$1:cl}),i.ofArray([p.Element("label",cn,i.ofArray([p.Radio(co,true,cm),p.TextNode(ck)]))]));},ShowErrors:function(cp,cq){return x.ShowErrors(cq,function(cr){var cs,ct,cw,cx;if(cr.$==0){cs=p.get_Empty();}else{ct=function(cu){var cv;cv=i.ofArray([p.TextNode(cu.get_Text())]);return p.Element("p",[],cv);};cw=y.map(ct,cr);cx=i.ofArray([(k.cls())("alert alert-danger")]);cs=p.Element("div",cp,i.ofArray([p.Element("div",cx,cw)]));}return cs;});},Simple:{Button:function(cy,cz){return(((k.Button())(cy))(i.ofArray([(k.cls())("button btn-primary")])))(cz);},Checkbox:function(cA,cB){return k.Checkbox(cA,$.New(u,{$:0}),cB,$.New(u,{$:0}),$.New(u,{$:0}));},Input:function(cC,cD){return k.Input(cC,$.New(u,{$:0}),cD,$.New(u,{$:0}),$.New(u,{$:0}));},InputPassword:function(cE,cF){return k.InputPassword(cE,$.New(u,{$:0}),cF,$.New(u,{$:0}),$.New(u,{$:0}));},InputPasswordWithError:function(cG,cH,cI){var cJ,cK,cL,cM,cN,cO,cP;cJ=k.InputPasswordWithError(cG);cK=$.New(u,{$:0});cL=cJ(cK);cM=[cH,$.New(u,{$:0}),$.New(u,{$:0})];cN=cM[0];cO=cM[1];cP=cM[2];return(cL([cN,cO,cP]))(cI);},InputWithError:function(cQ,cR,cS){var cT,cU,cV,cW,cX,cY,cZ;cT=k.InputWithError(cQ);cU=$.New(u,{$:0});cV=cT(cU);cW=[cR,$.New(u,{$:0}),$.New(u,{$:0})];cX=cW[0];cY=cW[1];cZ=cW[2];return(cV([cX,cY,cZ]))(cS);},ShowErrors:function(c0){return k.ShowErrors($.New(u,{$:0}),c0);},TextArea:function(c1,c2){return k.TextArea(c1,$.New(u,{$:0}),c2,$.New(u,{$:0}),$.New(u,{$:0}));},TextAreaWithError:function(c3,c4,c5){var c6,c7,c8,c9,c_,c$,da;c6=k.TextAreaWithError(c3);c7=$.New(u,{$:0});c8=c6(c7);c9=[c4,$.New(u,{$:0}),$.New(u,{$:0})];c_=c9[0];c$=c9[1];da=c9[2];return(c8([c_,c$,da]))(c5);}},TextArea:function(db,dc,dd,de,df){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("form-group"),$1:dc}),i.ofArray([p.Element("label",de,i.ofArray([p.TextNode(db)])),p.InputArea($.New(u,{$:1,$0:(k.cls())("form-control"),$1:df}),dd)]));},TextAreaWithError:function(dg){var dh;dh=function(di){return function(dj){return p.InputArea(di,dj);};};return function(dk){return function(dl){var dm,dn,_do;dm=dl[0];dn=dl[1];_do=dl[2];return function(dp){return k.__InputWithError(dh,dg,dk,dm,dn,_do,dp);};};};},__InputWithError:function(dq,dr,ds,dt,du,dv,dw){var dx,dy,dK,dN,dO,dP;dx=z.Through1(dw,dt);dy=t.Map(function(dz){var dA,dB,dC,dD,dF,dI,dJ;if(dz.$==1){if(dz.$0.$==0){dB=[{$:0},{$:0}];}else{dC=dz.$0;dD=function(dE){return dE.get_Text();};dF=function(dG){return function(dH){return dG+"; "+dH;};};dI=i.map(dD,dC);dJ=y.reduce(dF,dI);dB=[{$:1,$0:dJ},{$:1,$0:"has-error"}];}dA=dB;}else{dA=[{$:0},{$:0}];}return dA;},dx);dK=[t.Map(function(dL){return dL[0];},dy),t.Map(function(dM){return dM[1];},dy)];dN=dK[0];dO=dK[1];dP=y.toList(y.delay(function(){return y.append([(k.cls())("form-group")],y.delay(function(){return y.append([q.DynamicClass("has-error",dO,function(dS){return dS.$==1;})],y.delay(function(){return ds;}));}));}));return p.Element("div",dP,y.toList(y.delay(function(){return y.append([p.Element("label",du,i.ofArray([p.TextNode(dr)]))],y.delay(function(){return y.append([(dq($.New(u,{$:1,$0:(k.cls())("form-control"),$1:dv})))(dt)],y.delay(function(){return[p.BindView(function(dX){var dY,dZ;if(dX.$==1){dZ=dX.$0;dY=p.Element("span",i.ofArray([(k.cls())("help-block")]),i.ofArray([p.TextNode(dZ)]));}else{dY=p.get_Empty();}return dY;},dN)];}));}));})));},cls:$.Field(function(){return function(d0){return q.Class(d0);};})}},Doc:{ButtonValidate:function(d1,d2,d3){return p.Element("button",y.append([A.SubmitterValidate(d3)],d2),i.ofArray([p.TextNode(d1)]));},ShowErrors:function(d4,d5){return p.BindView(function(d6){var d7,d8;if(d6.$==1){d8=d6.$0;d7=d5(d8);}else{d7=p.get_Empty();}return d7;},d4);},ShowSuccess:function(d9,d_){return p.BindView(function(d$){var ea,eb;if(d$.$==1){d$.$0;ea=p.get_Empty();}else{eb=d$.$0;ea=d_(eb);}return ea;},d9);}},ErrorMessage:$.Class({get_Id:function(){return this.id;},get_Text:function(){return this.message;}},{Create:function(ec,ed){return B.New(ec.id,ed);},Create1:function(ee,ef){return B.New(ee,ef);},New:function(eg,eh){var ei;ei=$.New(this,{});ei.id=eg;ei.message=eh;return ei;}}),Form:{ApJoin:function(ej,ek){var el,eo,ep,eq,er;el=function(em){return function(en){return E.ApJoin(em,en);};};eo=ej.view;ep=ek.view;eq=ej.render;er=ek.render;return $.New(C,{id:D.Id(),view:t.Map2(el,eo,ep),render:function(es){return er(eq(es));}});},Apply:function(et,eu){var ev,ey,ez,eA,eB;ev=function(ew){return function(ex){return E.Apply(ew,ex);};};ey=et.view;ez=eu.view;eA=et.render;eB=eu.render;return $.New(C,{id:D.Id(),view:t.Map2(ev,ey,ez),render:function(eC){return eB(eA(eC));}});},Builder:$.Class({Bind:function(eD,eE){return g.Dependent2(eD,eE);},Return:function(eF){return g.Return(eF);},ReturnFrom:function(eG){return eG;},Yield:function(eH){return g.Yield(eH);},YieldFrom:function(eI){return eI;},Zero:function(){return g.ReturnFailure();}}),Create:function(eJ,eK){return $.New(C,{id:D.Id(),view:eJ,render:eK});},Dependent:{Make:function(eL,eM){var eN,eS;eN=F.memoize(function(eO){var eP,eQ;eP=eM(eO);eQ=eP.view;return $.New(C,{id:eP.id,view:eQ,render:function(eR){return eP.render.call(null,eR);}});});eS=t.Map(function(eT){return w.Map(eN,eT);},eL.view);return G.New(function(eU){return eL.render.call(null,eU);},eS);}},Dependent1:$.Class({RenderDependent:function(eV){var eW,e0;eW=function(eX){var eY,eZ;if(eX.$==1){eY=p.get_Empty();}else{eZ=eX.$0;eY=eZ.render.call(null,eV);}return eY;};e0=this.pOut;return p.BindView(eW,e0);},RenderPrimary:function(e1){return this.renderPrimary.call(null,e1);},get_View:function(){return this.out;}},{New:function(e2,e3){var e4;e4=$.New(this,{});e4.renderPrimary=e2;e4.pOut=e3;e4.out=v.Bind(function(e5){var e6,e7,e8;if(e5.$==1){e7=e5.$0;e6=v.Const({$:1,$0:e7});}else{e8=e5.$0;e6=e8.view;}return e6;},e4.pOut);return e4;}}),Dependent2:function(e9,e_){var e$;e$=H.Make(e9,e_);return $.New(C,{id:D.Id(),view:e$.get_View(),render:function(fa){return fa(e$);}});},FlushErrors:function(fb){return g.MapResult(function(fc){return fc.$==1?{$:1,$0:$.New(u,{$:0})}:fc;},fb);},GetView:function(fd){return fd.view;},Many:{Fresh:{Int:$.Field(function(){var fe;fe=[0];return function(){I.incr(fe);return fe[0];};})}},Many1:{Collection:$.Class({Add:function(fg){return this.add(fg);},Render:function(fh){var fi,fj,fm;fi=this.changesView;fj=function(fk){var fl;fk[0];fk[1];fl=fk[2];return fl;};fm=function(fn){var fo,fp;fo=fn[0];fp=fn[1];fn[2];return fo.render.call(null,fh(fp));};return p.ConvertBy(fj,fm,fi);},RenderAdder:function(fq){var fr,fs,fu=this,fv,fw,fx;fr=this.adder.render.call(null,fq);fs=function(ft){return fu.adderView(ft);};fv=fu.adder.view;fw=t.Map(fs,fv);fx=p.EmbedView(fw);return p.Append(fx,fr);},add:function(fy){var fz,fA;this.arr.Add(this.mk(fy));fz=this["var"];fA=function(fB){return fB;};return J.Update(fz,fA);},adderView:function(fC){var fD,fE;if(fC.$==0){fE=fC.$0;fD=this.add(fE);}else{fD=null;}return p.get_Empty();},get_View:function(){return this.out;},mk:function(fF){var fG,fH,fK,fM,fN,fO,fR=this,fV,fX,fY,fZ,f0,f1,f9,f_,ga,gb,gc,gd,ge,gm,gn,go,gr,gs,gv,gw,gx;fG=(L.Int())(null);fH=function(fI){var fJ;fI[0];fI[1];fJ=fI[2];return fG===fJ;};fK=function(fL){return y.findIndex(fH,fL);};fM=this["var"].get_View();fN=t.Map(fK,fM);fO=function(){var fQ,fS,fT;fQ=fK(fR.arr);fR.arr.RemoveAt(fQ);fS=fR["var"];fT=function(fU){return fU;};return J.Update(fS,fT);};fV=function(fW){return fW===0?{$:1,$0:$.New(u,{$:0})}:{$:0,$0:true};};fX=t.Map(fV,fN);fY=fR.arr.get_Count()===0?{$:1,$0:$.New(u,{$:0})}:{$:0,$0:false};fZ=M.Create(fX,fY);f0=fZ.get_View();f1=function(f2){var f3,f4,f5,f6,f7;if(f2.$==0){if(f2.$0){f5=fK(fR.arr);N["List`1.Swap"](fR.arr,f5,f5-1);f6=fR["var"];f7=function(f8){return f8;};f4=J.Update(f6,f7);}else{f4=null;}f3=f4;}else{f3=null;}return f3;};f9=t.Map(f1,f0);f_=function(f$){return f$===fR.arr.get_Count()-1?{$:1,$0:$.New(u,{$:0})}:{$:0,$0:true};};ga=t.Map(f_,fN);gb={$:1,$0:$.New(u,{$:0})};gc=M.Create(ga,gb);gd=gc.get_View();ge=function(gf){var gg,gh,gi,gj,gk;if(gf.$==0){if(gf.$0){gi=fK(fR.arr);N["List`1.Swap"](fR.arr,gi,gi+1);gj=fR["var"];gk=function(gl){return gl;};gh=J.Update(gj,gk);}else{gh=null;}gg=gh;}else{gg=null;}return gg;};gm=t.Map(ge,gd);gn=fR.p.call(null,fF);go=function(gp){return function(){return gp;};};gr=gn.view;gs=function(){return function(){return null;};};gv=t.Map2(gs,f9,gm);gw=t.Map2(go,gr,gv);gx=$.New(C,{id:gn.id,view:gw,render:gn.render});return[gx,O.New(fO,fZ,gc),fG];}},{New:function(gy,gz,gA){var gB,gC,gF,gG,gW,gX;gB=$.New(this,{});gB.p=gy;gB.adder=gA;gB.arr=R.New2();gB["var"]=r.Create(gB.arr);gC=gB.arr;y.iter(function(gD){var gE;gE=gB.mk(gD);return gC.Add(gE);},gz);gF=gB["var"].get_View();gG=function(gH){var gI,gJ,gP,gQ,gT;gI=gH.ToArray();gJ=function(gK){var gL,gM,gO;gL=gK[0];gM=function(){return[gK];};gO=gL.view;return t.Map(gM,gO);};gP=v.Const(y.empty());gQ=function(gR){return function(gS){return y.append(gR,gS);};};gT=function(gU){return function(gV){return t.Map2(gQ,gU,gV);};};return S.MapReduce(gJ,gP,gT,gI);};gB.changesView=v.Bind(gG,gF);gW=gB["var"].get_View();gX=function(gY){var gZ,g0,g8,g9,ha,hd;gZ=gY.ToArray();g0=function(g1){var g2,g3,g5,g7;g2=g1[0];g1[1];g1[2];g3=function(g4){return[g4];};g5=function(g6){return w.Map(g3,g6);};g7=g2.view;return t.Map(g5,g7);};g8=v.Const({$:0,$0:y.empty()});g9=function(g_){return function(g$){return y.append(g_,g$);};};ha=function(hb){return function(hc){return E.Append(g9,hb,hc);};};hd=function(he){return function(hf){return t.Map2(ha,he,hf);};};return S.MapReduce(g0,g8,hd,gZ);};gB.out=v.Bind(gX,gW);return gB;}}),CollectionWithDefault:$.Class({AddOne:function(){return this.Add(this["default"]);}},{New:function(hg,hh,hi,hj){var hk;hk=$.New(this,U.New(hg,hh,hi));hk["default"]=hj;return hk;}}),ItemOperations:$.Class({Delete:function(){return this["delete"].call(null,null);},get_MoveDown:function(){return this.moveDown;},get_MoveUp:function(){return this.moveUp;}},{New:function(hl,hm,hn){var ho;ho=$.New(this,{});ho["delete"]=hl;ho.moveUp=hm;ho.moveDown=hn;return ho;}}),"List`1.Swap":function(hp,hq,hr){var hs;hs=hp.get_Item(hq);hp.set_Item(hq,hp.get_Item(hr));return hp.set_Item(hr,hs);}},Many2:function(ht,hu,hv){var hw,hx;hw=hv(hu);hx=T.New(hv,ht,hw,hu);return $.New(C,{id:D.Id(),view:hx.get_View(),render:function(hy){return hy(hx);}});},ManyForm:function(hz,hA,hB){var hC;hC=U.New(hB,hz,hA);return $.New(C,{id:D.Id(),view:hC.get_View(),render:function(hD){return hD(hC);}});},Map:function(hE,hF){return g.MapResult(function(hG){return w.Map(hE,hG);},hF);},MapAsync:function(hH,hI){var hJ;hJ=function(hK){var hL,hM,hO;if(hK.$==1){hM=hK.$0;hL=a.Delay(function(){return a.Return({$:1,$0:hM});});}else{hO=hK.$0;hL=a.Delay(function(){return a.Bind(hH(hO),function(hQ){return a.Return({$:0,$0:hQ});});});}return hL;};return g.MapAsyncResult(hJ,hI);},MapAsyncResult:function(hR,hS){var hT;hT=hS.view;return $.New(C,{id:hS.id,view:t.MapAsync(hR,hT),render:hS.render});},MapRenderArgs:function(hU,hV){return $.New(C,{id:hV.id,view:hV.view,render:function(hW){return hW(hV.render.call(null,hU));}});},MapResult:function(hX,hY){var hZ;hZ=hY.view;return $.New(C,{id:hY.id,view:t.Map(hX,hZ),render:hY.render});},MapToAsyncResult:function(h0,h1){var h2;h2=function(h3){var h4,h5,h7;if(h3.$==1){h5=h3.$0;h4=a.Delay(function(){return a.Return({$:1,$0:h5});});}else{h7=h3.$0;h4=a.Delay(function(){return h0(h7);});}return h4;};return g.MapAsyncResult(h2,h1);},MapToResult:function(h9,h_){return g.MapResult(function(h$){return E.Bind(h9,h$);},h_);},Render:function(ia,ib){var ic,id,_if,ig,ih;ic=ib.render.call(null,ia);id=function(){return p.get_Empty();};_if=ib.view;ig=t.Map(id,_if);ih=p.EmbedView(ig);return p.Append(ih,ic);},RenderDependent:function(ii,ij){return ii.RenderDependent(ij);},RenderMany:function(ik,il){return ik.Render(il);},RenderManyAdder:function(im,_in){return im.RenderAdder(_in);},RenderPrimary:function(io,ip){return io.RenderPrimary(ip);},Return:function(iq){return $.New(C,{id:D.Id(),view:v.Const({$:0,$0:iq}),render:function(ir){return ir;}});},ReturnFailure:function(){return $.New(C,{id:D.Id(),view:v.Const({$:1,$0:$.New(u,{$:0})}),render:function(is){return is;}});},Run:function(it,iu){return g.Map(function(iv){it(iv);return iv;},iu);},RunResult:function(iw,ix){return g.MapResult(function(iy){iw(iy);return iy;},ix);},TransmitView:function(iz){return $.New(C,{id:iz.id,view:iz.view,render:function(iA){return(iz.render.call(null,iA))(iz.view);}});},TransmitViewMap:function(iB,iC){return g.TransmitViewMapResult(function(iD){return w.Map(iB,iD);},iC);},TransmitViewMapResult:function(iE,iF){return $.New(C,{id:iF.id,view:iF.view,render:function(iG){var iH;iH=iF.view;return(iF.render.call(null,iG))(t.Map(iE,iH));}});},WithSubmit:function(iI){var iJ,iK,iL;iJ=iI.view;iK={$:1,$0:$.New(u,{$:0})};iL=M.Create(iJ,iK);return $.New(C,{id:D.Id(),view:iL.get_View(),render:function(iM){return(iI.render.call(null,iM))(iL);}});},Yield:function(iN){return g.YieldVar(r.Create(iN));},YieldFailure:function(){var iO,iP,iQ,iR,iT;iO=r.Create(undefined);iP=iO.get_View();iQ={$:1,$0:$.New(u,{$:0})};iR=function(iS){return{$:0,$0:iS};};iT=t.Map(iR,iP);return $.New(C,{id:J.GetId(iO),view:t.SnapshotOn(iQ,iP,iT),render:function(iU){return iU(iO);}});},YieldOption:function(iV,iW){var iX,iY,i0;iX=r.Create(V.DefaultArg(iV,iW));iY=function(iZ){return{$:0,$0:W.Equals(iZ,iW)?{$:0}:{$:1,$0:iZ}};};i0=iX.get_View();return $.New(C,{id:J.GetId(iX),view:t.Map(iY,i0),render:function(i1){return i1(iX);}});},YieldVar:function(i2){var i3,i5;i3=function(i4){return{$:0,$0:i4};};i5=i2.get_View();return $.New(C,{id:J.GetId(i2),view:t.Map(i3,i5),render:function(i6){return i6(i2);}});}},Form1:$.Class({get_Id:function(){return this.id;},get_Render:function(){return this.render;},get_View:function(){return this.view;}}),Fresh:{Id:function(){I.decr(D.lastId());return(D.lastId())[0];},lastId:$.Field(function(){return[-1];})},Pervasives:{op_LessMultiplyGreater:function(i7,i8){return g.Apply(i7,i8);},op_LessMultiplyQmarkGreater:function(i9,i_){return g.ApJoin(i9,i_);}},Result:$.Class({},{ApJoin:function(i$,ja){var jb,jc,jd,je,jf,jg,jh,ji,jj,jk;if(i$.$==0){jc=i$.$0;if(ja.$==0){if(ja.$0.$==0){jf=ja.$0.$0;je={$:0,$0:jc(jf)};}else{jg=ja.$0.$0;je={$:1,$0:jg};}jd=je;}else{jh=ja.$0;jd={$:1,$0:jh};}jb=jd;}else{ji=i$.$0;if(ja.$==0){jj={$:1,$0:ji};}else{jk=ja.$0;jj={$:1,$0:i.append(ji,jk)};}jb=jj;}return jb;},Append:function(jl,jm,jn){var jo,jp,jq,jr,js,jt,ju;if(jm.$==0){jp=jm.$0;if(jn.$==0){jr=jn.$0;jq={$:0,$0:(jl(jp))(jr)};}else{jq=jn;}jo=jq;}else{js=jm.$0;if(jn.$==0){jt=jm;}else{ju=jn.$0;jt={$:1,$0:i.append(js,ju)};}jo=jt;}return jo;},Apply:function(jv,jw){var jx,jy,jz,jA,jB,jC,jD,jE;if(jv.$==0){jy=jv.$0;if(jw.$==0){jA=jw.$0;jz={$:0,$0:jy(jA)};}else{jB=jw.$0;jz={$:1,$0:jB};}jx=jz;}else{jC=jv.$0;if(jw.$==0){jD={$:1,$0:jC};}else{jE=jw.$0;jD={$:1,$0:i.append(jC,jE)};}jx=jD;}return jx;},Bind:function(jF,jG){var jH,jI,jJ;if(jG.$==0){jI=jG.$0;jH=jF(jI);}else{jJ=jG.$0;jH={$:1,$0:jJ};}return jH;},FailWith:function(jK,jL){var jM,jN,jO;if(jL.$==0){jN=D.Id();}else{jO=jL.$0;jN=jO;}jM=jN;return{$:1,$0:i.ofArray([B.New(jM,jK)])};}}),Result1:$.Class({},{IsFailure:function(jP){return jP.$==1?true:false;},IsSuccess:function(jQ){return jQ.$==1?false:true;},Map:function(jR,jS){var jT,jU,jV;if(jS.$==1){jU=jS.$0;jT={$:1,$0:jU};}else{jV=jS.$0;jT={$:0,$0:jR(jV)};}return jT;}}),Utils:{memoize:function(jW){var jX;jX=X.New12();return function(jY){var jZ,j0;if(jX.ContainsKey(jY)){jZ=jX.get_Item(jY);}else{j0=jW(jY);jX.set_Item(jY,j0);jZ=j0;}return jZ;};}},Validation:{Is:function(j1,j2,j3){var j4;j4=function(j5){var j6,j7;if(j5.$==1){j6=j5;}else{j7=j5.$0;j6=j1(j7)?j5:{$:1,$0:i.ofArray([B.New(j3.id,j2)])};}return j6;};return g.MapResult(j4,j3);},IsMatch:function(j8,j9,j_){var j$;j$=new Y(j8);return h.Is(function(ka){return j$.test(ka);},j9,j_);},IsNotEmpty:function(kb,kc){return h.Is(function(kd){return kd!=="";},kb,kc);},MapValidCheckedInput:function(ke,kf){var kg;kg=function(kh){var ki,kj,kk,kl;if(kh.$==1){kj=kh.$0;ki={$:1,$0:kj};}else{if(kh.$0.$==0){kl=kh.$0.$0;kk={$:0,$0:kl};}else{kk={$:1,$0:i.ofArray([B.Create(kf,ke)])};}ki=kk;}return ki;};return g.MapResult(kg,kf);}},View:$.Class({},{Through:function(km,kn){var ko;ko=function(kp){var kq,kr,ks;if(kp.$==1){kr=kp.$0;ks=function(kt){return kt.get_Id()===kn.id;};kq={$:1,$0:i.filter(ks,kr)};}else{kq=kp;}return kq;};return t.Map(ko,km);},Through1:function(ku,kv){var kw;kw=function(kx){var ky,kz,kA;if(kx.$==1){kz=kx.$0;kA=function(kB){return kB.get_Id()===J.GetId(kv);};ky={$:1,$0:i.filter(kA,kz)};}else{ky=kx;}return ky;};return t.Map(kw,ku);}})}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Concurrency);b=$.Safe($$.WebSharper.Remoting);c=$.Safe(b.AjaxRemotingProvider);d=$.Safe($$.window);e=$.Safe($$.WebSharper.Forms);f=$.Safe(e.Pervasives);g=$.Safe(e.Form);h=$.Safe(e.Validation);i=$.Safe($$.WebSharper.List);j=$.Safe(e.Bootstrap);k=$.Safe(j.Controls);l=$.Safe(k.Simple);m=$.Safe($$.WebSharper.UI);n=$.Safe(m.Next);o=$.Safe(n.AttrProxy);p=$.Safe(n.Doc);q=$.Safe(n.AttrModule);r=$.Safe(n.Var);s=$.Safe(n.Submitter1);t=$.Safe(n.View);u=$.Safe(i.T);v=$.Safe(n.View1);w=$.Safe(e.Result1);x=$.Safe(e.Doc);y=$.Safe($$.WebSharper.Seq);z=$.Safe(e.View);A=$.Safe(e.Attr);B=$.Safe(e.ErrorMessage);C=$.Safe(e.Form1);D=$.Safe(e.Fresh);E=$.Safe(e.Result);F=$.Safe(e.Utils);G=$.Safe(g.Dependent1);H=$.Safe(g.Dependent);I=$.Safe($$.WebSharper.Ref);J=$.Safe(n.Var1);K=$.Safe(g.Many);L=$.Safe(K.Fresh);M=$.Safe(n.Submitter);N=$.Safe(g.Many1);O=$.Safe(N.ItemOperations);P=$.Safe($$.WebSharper.Collections);Q=$.Safe(P.ResizeArray);R=$.Safe(Q.ResizeArrayProxy);S=$.Safe(n.Array);T=$.Safe(N.CollectionWithDefault);U=$.Safe(N.Collection);V=$.Safe($$.WebSharper.Operators);W=$.Safe($$.WebSharper.Unchecked);X=$.Safe(P.Dictionary);return Y=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(T,U);D.lastId();L.Int();k.cls();k.Class();k.Button();return;});}());
