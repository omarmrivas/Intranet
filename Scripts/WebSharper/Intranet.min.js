(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y;$.Define($$,{Intranet:{Client:{AnonymousUser:function(){var Z,_4,_7,_8,_9,_,ba;Z=function(_0){var _1;_1=a.Delay(function(){return a.Bind(c.Async("Intranet:1",[_0]),function(){return a.Return(d.location.reload());});});return a.Start(_1,{$:0});};_7=g.Yield("");_8=g.Yield("");_4=f.op_LessMultiplyGreater(f.op_LessMultiplyGreater(g.Return(function(_5){return function(_6){return{User:_5,Password:_6};};}),h.IsNotEmpty("Must enter a username",_7)),h.IsNotEmpty("Must enter a password",_8));_9=g.WithSubmit(_4);_=g.Run(Z,_9);ba=function(bb){return function(bc){return function(bd){var be;be=i.ofArray([l.InputWithError("Username",bb,bd.get_View()),l.InputPasswordWithError("Password",bc,bd.get_View()),(((k.Button())("Log in"))(i.ofArray([o.Create("class","btn btn-primary")])))(function(){return bd.Trigger();}),k.ShowErrors(i.ofArray([o.Create("style","margin-top:1em")]),bd.get_View())]);return p.Element("form",[],be);};};};return g.Render(ba,_);},LoggedInUser:function(){var bf,bg;bg=i.ofArray([p.TextNode("Click here to log out:")]);bf=i.ofArray([p.Element("p",[],bg),p.Element("button",i.ofArray([q.Handler("click",function(){return function(){var bj;bj=a.Delay(function(){return a.Bind(c.Async("Intranet:2",[]),function(){return a.Return(d.location.reload());});});return a.Start(bj,{$:0});};})]),i.ofArray([p.TextNode("Logout")]))]);return p.Element("div",[],bf);},Main:function(){var bm,bn,bo,br,bs,bt,bu,bw,bx;bm=r.Create("");bn=s.CreateOption(bm.get_View());bo=function(bp){return bp.$==1?c.Async("Intranet:0",[bp.$0]):a.Delay(function(){return a.Return("");});};br=bn.get_View();bs=t.MapAsync(bo,br);bu=function(){return bn.Trigger();};bw=$.New(u,{$:0});bx=i.ofArray([p.TextView(bs)]);bt=i.ofArray([p.Input($.New(u,{$:0}),bm),p.Button("Send",$.New(u,{$:0}),bu),p.Element("hr",[],bw),p.Element("h4",i.ofArray([o.Create("class","text-muted")]),i.ofArray([p.TextNode("The server responded:")])),p.Element("div",i.ofArray([o.Create("class","jumbotron")]),i.ofArray([p.Element("h1",[],bx)]))]);return p.Element("div",[],bt);}}},WebSharper:{Forms:{Attr:{SubmitterValidate:function(by){var bz,bC,bD,bF,bG,bH;bz=q.Handler("click",function(){return function(){return by.Trigger();};});bC=v.Const("disabled");bD=function(bE){return w.IsFailure(bE);};bF=by.get_Input();bG=t.Map(bD,bF);bH=q.DynamicPred("disabled",bG,bC);return o.Append(bz,bH);}},Bootstrap:{Controls:{Button:$.Field(function(){return function(bI){return function(bJ){return function(bK){return p.Button(bI,bJ,bK);};};};}),Checkbox:function(bL,bM,bN,bO,bP){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("checkbox"),$1:bM}),i.ofArray([p.Element("label",bO,i.ofArray([p.CheckBox(bP,bN),p.TextNode(bL)]))]));},Class:$.Field(function(){return function(bQ){return q.Class(bQ);};}),Input:function(bR,bS,bT,bU,bV){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("form-group"),$1:bS}),i.ofArray([p.Element("label",bU,i.ofArray([p.TextNode(bR)])),p.Input($.New(u,{$:1,$0:(k.cls())("form-control"),$1:bV}),bT)]));},InputPassword:function(bW,bX,bY,bZ,b0){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("form-group"),$1:bX}),i.ofArray([p.Element("label",bZ,i.ofArray([p.TextNode(bW)])),p.PasswordBox($.New(u,{$:1,$0:(k.cls())("form-control"),$1:b0}),bY)]));},InputPasswordWithError:function(b1){var b2;b2=function(b3){return function(b4){return p.PasswordBox(b3,b4);};};return function(b5){return function(b6){var b7,b8,b9;b7=b6[0];b8=b6[1];b9=b6[2];return function(b_){return k.__InputWithError(b2,b1,b5,b7,b8,b9,b_);};};};},InputWithError:function(b$){var ca;ca=function(cb){return function(cc){return p.Input(cb,cc);};};return function(cd){return function(ce){var cf,cg,ch;cf=ce[0];cg=ce[1];ch=ce[2];return function(ci){return k.__InputWithError(ca,b$,cd,cf,cg,ch,ci);};};};},Radio:function(cj,ck,cl,cm,cn){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("radio"),$1:ck}),i.ofArray([p.Element("label",cm,i.ofArray([p.Radio(cn,true,cl),p.TextNode(cj)]))]));},ShowErrors:function(co,cp){return x.ShowErrors(cp,function(cq){var cr,cs,cv,cw;if(cq.$==0){cr=p.get_Empty();}else{cs=function(ct){var cu;cu=i.ofArray([p.TextNode(ct.get_Text())]);return p.Element("p",[],cu);};cv=y.map(cs,cq);cw=i.ofArray([(k.cls())("alert alert-danger")]);cr=p.Element("div",co,i.ofArray([p.Element("div",cw,cv)]));}return cr;});},Simple:{Button:function(cx,cy){return(((k.Button())(cx))(i.ofArray([(k.cls())("button btn-primary")])))(cy);},Checkbox:function(cz,cA){return k.Checkbox(cz,$.New(u,{$:0}),cA,$.New(u,{$:0}),$.New(u,{$:0}));},Input:function(cB,cC){return k.Input(cB,$.New(u,{$:0}),cC,$.New(u,{$:0}),$.New(u,{$:0}));},InputPassword:function(cD,cE){return k.InputPassword(cD,$.New(u,{$:0}),cE,$.New(u,{$:0}),$.New(u,{$:0}));},InputPasswordWithError:function(cF,cG,cH){var cI,cJ,cK,cL,cM,cN,cO;cI=k.InputPasswordWithError(cF);cJ=$.New(u,{$:0});cK=cI(cJ);cL=[cG,$.New(u,{$:0}),$.New(u,{$:0})];cM=cL[0];cN=cL[1];cO=cL[2];return(cK([cM,cN,cO]))(cH);},InputWithError:function(cP,cQ,cR){var cS,cT,cU,cV,cW,cX,cY;cS=k.InputWithError(cP);cT=$.New(u,{$:0});cU=cS(cT);cV=[cQ,$.New(u,{$:0}),$.New(u,{$:0})];cW=cV[0];cX=cV[1];cY=cV[2];return(cU([cW,cX,cY]))(cR);},ShowErrors:function(cZ){return k.ShowErrors($.New(u,{$:0}),cZ);},TextArea:function(c0,c1){return k.TextArea(c0,$.New(u,{$:0}),c1,$.New(u,{$:0}),$.New(u,{$:0}));},TextAreaWithError:function(c2,c3,c4){var c5,c6,c7,c8,c9,c_,c$;c5=k.TextAreaWithError(c2);c6=$.New(u,{$:0});c7=c5(c6);c8=[c3,$.New(u,{$:0}),$.New(u,{$:0})];c9=c8[0];c_=c8[1];c$=c8[2];return(c7([c9,c_,c$]))(c4);}},TextArea:function(da,db,dc,dd,de){return p.Element("div",$.New(u,{$:1,$0:(k.cls())("form-group"),$1:db}),i.ofArray([p.Element("label",dd,i.ofArray([p.TextNode(da)])),p.InputArea($.New(u,{$:1,$0:(k.cls())("form-control"),$1:de}),dc)]));},TextAreaWithError:function(df){var dg;dg=function(dh){return function(di){return p.InputArea(dh,di);};};return function(dj){return function(dk){var dl,dm,dn;dl=dk[0];dm=dk[1];dn=dk[2];return function(_do){return k.__InputWithError(dg,df,dj,dl,dm,dn,_do);};};};},__InputWithError:function(dp,dq,dr,ds,dt,du,dv){var dw,dx,dJ,dM,dN,dO;dw=z.Through1(dv,ds);dx=t.Map(function(dy){var dz,dA,dB,dC,dE,dH,dI;if(dy.$==1){if(dy.$0.$==0){dA=[{$:0},{$:0}];}else{dB=dy.$0;dC=function(dD){return dD.get_Text();};dE=function(dF){return function(dG){return dF+"; "+dG;};};dH=i.map(dC,dB);dI=y.reduce(dE,dH);dA=[{$:1,$0:dI},{$:1,$0:"has-error"}];}dz=dA;}else{dz=[{$:0},{$:0}];}return dz;},dw);dJ=[t.Map(function(dK){return dK[0];},dx),t.Map(function(dL){return dL[1];},dx)];dM=dJ[0];dN=dJ[1];dO=y.toList(y.delay(function(){return y.append([(k.cls())("form-group")],y.delay(function(){return y.append([q.DynamicClass("has-error",dN,function(dR){return dR.$==1;})],y.delay(function(){return dr;}));}));}));return p.Element("div",dO,y.toList(y.delay(function(){return y.append([p.Element("label",dt,i.ofArray([p.TextNode(dq)]))],y.delay(function(){return y.append([(dp($.New(u,{$:1,$0:(k.cls())("form-control"),$1:du})))(ds)],y.delay(function(){return[p.BindView(function(dW){var dX,dY;if(dW.$==1){dY=dW.$0;dX=p.Element("span",i.ofArray([(k.cls())("help-block")]),i.ofArray([p.TextNode(dY)]));}else{dX=p.get_Empty();}return dX;},dM)];}));}));})));},cls:$.Field(function(){return function(dZ){return q.Class(dZ);};})}},Doc:{ButtonValidate:function(d0,d1,d2){return p.Element("button",y.append([A.SubmitterValidate(d2)],d1),i.ofArray([p.TextNode(d0)]));},ShowErrors:function(d3,d4){return p.BindView(function(d5){var d6,d7;if(d5.$==1){d7=d5.$0;d6=d4(d7);}else{d6=p.get_Empty();}return d6;},d3);},ShowSuccess:function(d8,d9){return p.BindView(function(d_){var d$,ea;if(d_.$==1){d_.$0;d$=p.get_Empty();}else{ea=d_.$0;d$=d9(ea);}return d$;},d8);}},ErrorMessage:$.Class({get_Id:function(){return this.id;},get_Text:function(){return this.message;}},{Create:function(eb,ec){return B.New(eb.id,ec);},Create1:function(ed,ee){return B.New(ed,ee);},New:function(ef,eg){var eh;eh=$.New(this,{});eh.id=ef;eh.message=eg;return eh;}}),Form:{ApJoin:function(ei,ej){var ek,en,eo,ep,eq;ek=function(el){return function(em){return E.ApJoin(el,em);};};en=ei.view;eo=ej.view;ep=ei.render;eq=ej.render;return $.New(C,{id:D.Id(),view:t.Map2(ek,en,eo),render:function(er){return eq(ep(er));}});},Apply:function(es,et){var eu,ex,ey,ez,eA;eu=function(ev){return function(ew){return E.Apply(ev,ew);};};ex=es.view;ey=et.view;ez=es.render;eA=et.render;return $.New(C,{id:D.Id(),view:t.Map2(eu,ex,ey),render:function(eB){return eA(ez(eB));}});},Builder:$.Class({Bind:function(eC,eD){return g.Dependent2(eC,eD);},Return:function(eE){return g.Return(eE);},ReturnFrom:function(eF){return eF;},Yield:function(eG){return g.Yield(eG);},YieldFrom:function(eH){return eH;},Zero:function(){return g.ReturnFailure();}}),Create:function(eI,eJ){return $.New(C,{id:D.Id(),view:eI,render:eJ});},Dependent:{Make:function(eK,eL){var eM,eR;eM=F.memoize(function(eN){var eO,eP;eO=eL(eN);eP=eO.view;return $.New(C,{id:eO.id,view:eP,render:function(eQ){return eO.render.call(null,eQ);}});});eR=t.Map(function(eS){return w.Map(eM,eS);},eK.view);return G.New(function(eT){return eK.render.call(null,eT);},eR);}},Dependent1:$.Class({RenderDependent:function(eU){var eV,eZ;eV=function(eW){var eX,eY;if(eW.$==1){eX=p.get_Empty();}else{eY=eW.$0;eX=eY.render.call(null,eU);}return eX;};eZ=this.pOut;return p.BindView(eV,eZ);},RenderPrimary:function(e0){return this.renderPrimary.call(null,e0);},get_View:function(){return this.out;}},{New:function(e1,e2){var e3;e3=$.New(this,{});e3.renderPrimary=e1;e3.pOut=e2;e3.out=v.Bind(function(e4){var e5,e6,e7;if(e4.$==1){e6=e4.$0;e5=v.Const({$:1,$0:e6});}else{e7=e4.$0;e5=e7.view;}return e5;},e3.pOut);return e3;}}),Dependent2:function(e8,e9){var e_;e_=H.Make(e8,e9);return $.New(C,{id:D.Id(),view:e_.get_View(),render:function(e$){return e$(e_);}});},FlushErrors:function(fa){return g.MapResult(function(fb){return fb.$==1?{$:1,$0:$.New(u,{$:0})}:fb;},fa);},GetView:function(fc){return fc.view;},Many:{Fresh:{Int:$.Field(function(){var fd;fd=[0];return function(){I.incr(fd);return fd[0];};})}},Many1:{Collection:$.Class({Add:function(ff){return this.add(ff);},Render:function(fg){var fh,fi,fl;fh=this.changesView;fi=function(fj){var fk;fj[0];fj[1];fk=fj[2];return fk;};fl=function(fm){var fn,fo;fn=fm[0];fo=fm[1];fm[2];return fn.render.call(null,fg(fo));};return p.ConvertBy(fi,fl,fh);},RenderAdder:function(fp){var fq,fr,ft=this,fu,fv,fw;fq=this.adder.render.call(null,fp);fr=function(fs){return ft.adderView(fs);};fu=ft.adder.view;fv=t.Map(fr,fu);fw=p.EmbedView(fv);return p.Append(fw,fq);},add:function(fx){var fy,fz;this.arr.Add(this.mk(fx));fy=this["var"];fz=function(fA){return fA;};return J.Update(fy,fz);},adderView:function(fB){var fC,fD;if(fB.$==0){fD=fB.$0;fC=this.add(fD);}else{fC=null;}return p.get_Empty();},get_View:function(){return this.out;},mk:function(fE){var fF,fG,fJ,fL,fM,fN,fQ=this,fU,fW,fX,fY,fZ,f0,f8,f9,f$,ga,gb,gc,gd,gl,gm,gn,gq,gr,gu,gv,gw;fF=(L.Int())(null);fG=function(fH){var fI;fH[0];fH[1];fI=fH[2];return fF===fI;};fJ=function(fK){return y.findIndex(fG,fK);};fL=this["var"].get_View();fM=t.Map(fJ,fL);fN=function(){var fP,fR,fS;fP=fJ(fQ.arr);fQ.arr.RemoveAt(fP);fR=fQ["var"];fS=function(fT){return fT;};return J.Update(fR,fS);};fU=function(fV){return fV===0?{$:1,$0:$.New(u,{$:0})}:{$:0,$0:true};};fW=t.Map(fU,fM);fX=fQ.arr.get_Count()===0?{$:1,$0:$.New(u,{$:0})}:{$:0,$0:false};fY=M.Create(fW,fX);fZ=fY.get_View();f0=function(f1){var f2,f3,f4,f5,f6;if(f1.$==0){if(f1.$0){f4=fJ(fQ.arr);N["List`1.Swap"](fQ.arr,f4,f4-1);f5=fQ["var"];f6=function(f7){return f7;};f3=J.Update(f5,f6);}else{f3=null;}f2=f3;}else{f2=null;}return f2;};f8=t.Map(f0,fZ);f9=function(f_){return f_===fQ.arr.get_Count()-1?{$:1,$0:$.New(u,{$:0})}:{$:0,$0:true};};f$=t.Map(f9,fM);ga={$:1,$0:$.New(u,{$:0})};gb=M.Create(f$,ga);gc=gb.get_View();gd=function(ge){var gf,gg,gh,gi,gj;if(ge.$==0){if(ge.$0){gh=fJ(fQ.arr);N["List`1.Swap"](fQ.arr,gh,gh+1);gi=fQ["var"];gj=function(gk){return gk;};gg=J.Update(gi,gj);}else{gg=null;}gf=gg;}else{gf=null;}return gf;};gl=t.Map(gd,gc);gm=fQ.p.call(null,fE);gn=function(go){return function(){return go;};};gq=gm.view;gr=function(){return function(){return null;};};gu=t.Map2(gr,f8,gl);gv=t.Map2(gn,gq,gu);gw=$.New(C,{id:gm.id,view:gv,render:gm.render});return[gw,O.New(fN,fY,gb),fF];}},{New:function(gx,gy,gz){var gA,gB,gE,gF,gV,gW;gA=$.New(this,{});gA.p=gx;gA.adder=gz;gA.arr=R.New2();gA["var"]=r.Create(gA.arr);gB=gA.arr;y.iter(function(gC){var gD;gD=gA.mk(gC);return gB.Add(gD);},gy);gE=gA["var"].get_View();gF=function(gG){var gH,gI,gO,gP,gS;gH=gG.ToArray();gI=function(gJ){var gK,gL,gN;gK=gJ[0];gL=function(){return[gJ];};gN=gK.view;return t.Map(gL,gN);};gO=v.Const(y.empty());gP=function(gQ){return function(gR){return y.append(gQ,gR);};};gS=function(gT){return function(gU){return t.Map2(gP,gT,gU);};};return S.MapReduce(gI,gO,gS,gH);};gA.changesView=v.Bind(gF,gE);gV=gA["var"].get_View();gW=function(gX){var gY,gZ,g7,g8,g$,hc;gY=gX.ToArray();gZ=function(g0){var g1,g2,g4,g6;g1=g0[0];g0[1];g0[2];g2=function(g3){return[g3];};g4=function(g5){return w.Map(g2,g5);};g6=g1.view;return t.Map(g4,g6);};g7=v.Const({$:0,$0:y.empty()});g8=function(g9){return function(g_){return y.append(g9,g_);};};g$=function(ha){return function(hb){return E.Append(g8,ha,hb);};};hc=function(hd){return function(he){return t.Map2(g$,hd,he);};};return S.MapReduce(gZ,g7,hc,gY);};gA.out=v.Bind(gW,gV);return gA;}}),CollectionWithDefault:$.Class({AddOne:function(){return this.Add(this["default"]);}},{New:function(hf,hg,hh,hi){var hj;hj=$.New(this,U.New(hf,hg,hh));hj["default"]=hi;return hj;}}),ItemOperations:$.Class({Delete:function(){return this["delete"].call(null,null);},get_MoveDown:function(){return this.moveDown;},get_MoveUp:function(){return this.moveUp;}},{New:function(hk,hl,hm){var hn;hn=$.New(this,{});hn["delete"]=hk;hn.moveUp=hl;hn.moveDown=hm;return hn;}}),"List`1.Swap":function(ho,hp,hq){var hr;hr=ho.get_Item(hp);ho.set_Item(hp,ho.get_Item(hq));return ho.set_Item(hq,hr);}},Many2:function(hs,ht,hu){var hv,hw;hv=hu(ht);hw=T.New(hu,hs,hv,ht);return $.New(C,{id:D.Id(),view:hw.get_View(),render:function(hx){return hx(hw);}});},ManyForm:function(hy,hz,hA){var hB;hB=U.New(hA,hy,hz);return $.New(C,{id:D.Id(),view:hB.get_View(),render:function(hC){return hC(hB);}});},Map:function(hD,hE){return g.MapResult(function(hF){return w.Map(hD,hF);},hE);},MapAsync:function(hG,hH){var hI;hI=function(hJ){var hK,hL,hN;if(hJ.$==1){hL=hJ.$0;hK=a.Delay(function(){return a.Return({$:1,$0:hL});});}else{hN=hJ.$0;hK=a.Delay(function(){return a.Bind(hG(hN),function(hP){return a.Return({$:0,$0:hP});});});}return hK;};return g.MapAsyncResult(hI,hH);},MapAsyncResult:function(hQ,hR){var hS;hS=hR.view;return $.New(C,{id:hR.id,view:t.MapAsync(hQ,hS),render:hR.render});},MapRenderArgs:function(hT,hU){return $.New(C,{id:hU.id,view:hU.view,render:function(hV){return hV(hU.render.call(null,hT));}});},MapResult:function(hW,hX){var hY;hY=hX.view;return $.New(C,{id:hX.id,view:t.Map(hW,hY),render:hX.render});},MapToAsyncResult:function(hZ,h0){var h1;h1=function(h2){var h3,h4,h6;if(h2.$==1){h4=h2.$0;h3=a.Delay(function(){return a.Return({$:1,$0:h4});});}else{h6=h2.$0;h3=a.Delay(function(){return hZ(h6);});}return h3;};return g.MapAsyncResult(h1,h0);},MapToResult:function(h8,h9){return g.MapResult(function(h_){return E.Bind(h8,h_);},h9);},Render:function(h$,ia){var ib,ic,ie,_if,ig;ib=ia.render.call(null,h$);ic=function(){return p.get_Empty();};ie=ia.view;_if=t.Map(ic,ie);ig=p.EmbedView(_if);return p.Append(ig,ib);},RenderDependent:function(ih,ii){return ih.RenderDependent(ii);},RenderMany:function(ij,ik){return ij.Render(ik);},RenderManyAdder:function(il,im){return il.RenderAdder(im);},RenderPrimary:function(_in,io){return _in.RenderPrimary(io);},Return:function(ip){return $.New(C,{id:D.Id(),view:v.Const({$:0,$0:ip}),render:function(iq){return iq;}});},ReturnFailure:function(){return $.New(C,{id:D.Id(),view:v.Const({$:1,$0:$.New(u,{$:0})}),render:function(ir){return ir;}});},Run:function(is,it){return g.Map(function(iu){is(iu);return iu;},it);},RunResult:function(iv,iw){return g.MapResult(function(ix){iv(ix);return ix;},iw);},TransmitView:function(iy){return $.New(C,{id:iy.id,view:iy.view,render:function(iz){return(iy.render.call(null,iz))(iy.view);}});},TransmitViewMap:function(iA,iB){return g.TransmitViewMapResult(function(iC){return w.Map(iA,iC);},iB);},TransmitViewMapResult:function(iD,iE){return $.New(C,{id:iE.id,view:iE.view,render:function(iF){var iG;iG=iE.view;return(iE.render.call(null,iF))(t.Map(iD,iG));}});},WithSubmit:function(iH){var iI,iJ,iK;iI=iH.view;iJ={$:1,$0:$.New(u,{$:0})};iK=M.Create(iI,iJ);return $.New(C,{id:D.Id(),view:iK.get_View(),render:function(iL){return(iH.render.call(null,iL))(iK);}});},Yield:function(iM){return g.YieldVar(r.Create(iM));},YieldFailure:function(){var iN,iO,iP,iQ,iS;iN=r.Create(undefined);iO=iN.get_View();iP={$:1,$0:$.New(u,{$:0})};iQ=function(iR){return{$:0,$0:iR};};iS=t.Map(iQ,iO);return $.New(C,{id:J.GetId(iN),view:t.SnapshotOn(iP,iO,iS),render:function(iT){return iT(iN);}});},YieldOption:function(iU,iV){var iW,iX,iZ;iW=r.Create(V.DefaultArg(iU,iV));iX=function(iY){return{$:0,$0:W.Equals(iY,iV)?{$:0}:{$:1,$0:iY}};};iZ=iW.get_View();return $.New(C,{id:J.GetId(iW),view:t.Map(iX,iZ),render:function(i0){return i0(iW);}});},YieldVar:function(i1){var i2,i4;i2=function(i3){return{$:0,$0:i3};};i4=i1.get_View();return $.New(C,{id:J.GetId(i1),view:t.Map(i2,i4),render:function(i5){return i5(i1);}});}},Form1:$.Class({get_Id:function(){return this.id;},get_Render:function(){return this.render;},get_View:function(){return this.view;}}),Fresh:{Id:function(){I.decr(D.lastId());return(D.lastId())[0];},lastId:$.Field(function(){return[-1];})},Pervasives:{op_LessMultiplyGreater:function(i6,i7){return g.Apply(i6,i7);},op_LessMultiplyQmarkGreater:function(i8,i9){return g.ApJoin(i8,i9);}},Result:$.Class({},{ApJoin:function(i_,i$){var ja,jb,jc,jd,je,jf,jg,jh,ji,jj;if(i_.$==0){jb=i_.$0;if(i$.$==0){if(i$.$0.$==0){je=i$.$0.$0;jd={$:0,$0:jb(je)};}else{jf=i$.$0.$0;jd={$:1,$0:jf};}jc=jd;}else{jg=i$.$0;jc={$:1,$0:jg};}ja=jc;}else{jh=i_.$0;if(i$.$==0){ji={$:1,$0:jh};}else{jj=i$.$0;ji={$:1,$0:i.append(jh,jj)};}ja=ji;}return ja;},Append:function(jk,jl,jm){var jn,jo,jp,jq,jr,js,jt;if(jl.$==0){jo=jl.$0;if(jm.$==0){jq=jm.$0;jp={$:0,$0:(jk(jo))(jq)};}else{jp=jm;}jn=jp;}else{jr=jl.$0;if(jm.$==0){js=jl;}else{jt=jm.$0;js={$:1,$0:i.append(jr,jt)};}jn=js;}return jn;},Apply:function(ju,jv){var jw,jx,jy,jz,jA,jB,jC,jD;if(ju.$==0){jx=ju.$0;if(jv.$==0){jz=jv.$0;jy={$:0,$0:jx(jz)};}else{jA=jv.$0;jy={$:1,$0:jA};}jw=jy;}else{jB=ju.$0;if(jv.$==0){jC={$:1,$0:jB};}else{jD=jv.$0;jC={$:1,$0:i.append(jB,jD)};}jw=jC;}return jw;},Bind:function(jE,jF){var jG,jH,jI;if(jF.$==0){jH=jF.$0;jG=jE(jH);}else{jI=jF.$0;jG={$:1,$0:jI};}return jG;},FailWith:function(jJ,jK){var jL,jM,jN;if(jK.$==0){jM=D.Id();}else{jN=jK.$0;jM=jN;}jL=jM;return{$:1,$0:i.ofArray([B.New(jL,jJ)])};}}),Result1:$.Class({},{IsFailure:function(jO){return jO.$==1?true:false;},IsSuccess:function(jP){return jP.$==1?false:true;},Map:function(jQ,jR){var jS,jT,jU;if(jR.$==1){jT=jR.$0;jS={$:1,$0:jT};}else{jU=jR.$0;jS={$:0,$0:jQ(jU)};}return jS;}}),Utils:{memoize:function(jV){var jW;jW=X.New12();return function(jX){var jY,jZ;if(jW.ContainsKey(jX)){jY=jW.get_Item(jX);}else{jZ=jV(jX);jW.set_Item(jX,jZ);jY=jZ;}return jY;};}},Validation:{Is:function(j0,j1,j2){var j3;j3=function(j4){var j5,j6;if(j4.$==1){j5=j4;}else{j6=j4.$0;j5=j0(j6)?j4:{$:1,$0:i.ofArray([B.New(j2.id,j1)])};}return j5;};return g.MapResult(j3,j2);},IsMatch:function(j7,j8,j9){var j_;j_=new Y(j7);return h.Is(function(j$){return j_.test(j$);},j8,j9);},IsNotEmpty:function(ka,kb){return h.Is(function(kc){return kc!=="";},ka,kb);},MapValidCheckedInput:function(kd,ke){var kf;kf=function(kg){var kh,ki,kj,kk;if(kg.$==1){ki=kg.$0;kh={$:1,$0:ki};}else{if(kg.$0.$==0){kk=kg.$0.$0;kj={$:0,$0:kk};}else{kj={$:1,$0:i.ofArray([B.Create(ke,kd)])};}kh=kj;}return kh;};return g.MapResult(kf,ke);}},View:$.Class({},{Through:function(kl,km){var kn;kn=function(ko){var kp,kq,kr;if(ko.$==1){kq=ko.$0;kr=function(ks){return ks.get_Id()===km.id;};kp={$:1,$0:i.filter(kr,kq)};}else{kp=ko;}return kp;};return t.Map(kn,kl);},Through1:function(kt,ku){var kv;kv=function(kw){var kx,ky,kz;if(kw.$==1){ky=kw.$0;kz=function(kA){return kA.get_Id()===J.GetId(ku);};kx={$:1,$0:i.filter(kz,ky)};}else{kx=kw;}return kx;};return t.Map(kv,kt);}})}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Concurrency);b=$.Safe($$.WebSharper.Remoting);c=$.Safe(b.AjaxRemotingProvider);d=$.Safe($$.window);e=$.Safe($$.WebSharper.Forms);f=$.Safe(e.Pervasives);g=$.Safe(e.Form);h=$.Safe(e.Validation);i=$.Safe($$.WebSharper.List);j=$.Safe(e.Bootstrap);k=$.Safe(j.Controls);l=$.Safe(k.Simple);m=$.Safe($$.WebSharper.UI);n=$.Safe(m.Next);o=$.Safe(n.AttrProxy);p=$.Safe(n.Doc);q=$.Safe(n.AttrModule);r=$.Safe(n.Var);s=$.Safe(n.Submitter1);t=$.Safe(n.View);u=$.Safe(i.T);v=$.Safe(n.View1);w=$.Safe(e.Result1);x=$.Safe(e.Doc);y=$.Safe($$.WebSharper.Seq);z=$.Safe(e.View);A=$.Safe(e.Attr);B=$.Safe(e.ErrorMessage);C=$.Safe(e.Form1);D=$.Safe(e.Fresh);E=$.Safe(e.Result);F=$.Safe(e.Utils);G=$.Safe(g.Dependent1);H=$.Safe(g.Dependent);I=$.Safe($$.WebSharper.Ref);J=$.Safe(n.Var1);K=$.Safe(g.Many);L=$.Safe(K.Fresh);M=$.Safe(n.Submitter);N=$.Safe(g.Many1);O=$.Safe(N.ItemOperations);P=$.Safe($$.WebSharper.Collections);Q=$.Safe(P.ResizeArray);R=$.Safe(Q.ResizeArrayProxy);S=$.Safe(n.Array);T=$.Safe(N.CollectionWithDefault);U=$.Safe(N.Collection);V=$.Safe($$.WebSharper.Operators);W=$.Safe($$.WebSharper.Unchecked);X=$.Safe(P.Dictionary);return Y=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(T,U);D.lastId();L.Int();k.cls();k.Class();k.Button();return;});}());
